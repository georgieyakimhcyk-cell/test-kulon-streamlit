import streamlit as st
import time

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã (–¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –ø–µ—Ä–≤–æ–π –∫–æ–º–∞–Ω–¥–æ–π streamlit)
st.set_page_config(
    page_title="–¢–µ—Å—Ç: –ó–∞–∫–æ–Ω –ö—É–ª–æ–Ω–∞",
    page_icon="‚ö°",
    layout="centered"
)

# –í–æ–ø—Ä–æ—Å—ã —Ç–µ—Å—Ç–∞ (–º–∞—Å—Å–∏–≤ —Å–ª–æ–≤–∞—Ä–µ–π)
questions = [
    {
        "question": "–ö–∞–∫ —á–∏—Ç–∞–µ—Ç—Å—è –∑–∞–∫–æ–Ω –ö—É–ª–æ–Ω–∞?",
        "options": [
            "–°–∏–ª–∞ –ø—Ä–æ–ø–æ—Ä—Ü–∏–æ–Ω–∞–ª—å–Ω–∞ –ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—é –∑–∞—Ä—è–¥–æ–≤ –∏ –æ–±—Ä–∞—Ç–Ω–æ –ø—Ä–æ–ø–æ—Ä—Ü–∏–æ–Ω–∞–ª—å–Ω–∞ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏—é",
            "–°–∏–ª–∞ –ø—Ä–æ–ø–æ—Ä—Ü–∏–æ–Ω–∞–ª—å–Ω–∞ –ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—é –∑–∞—Ä—è–¥–æ–≤ –∏ –æ–±—Ä–∞—Ç–Ω–æ –ø—Ä–æ–ø–æ—Ä—Ü–∏–æ–Ω–∞–ª—å–Ω–∞ –∫–≤–∞–¥—Ä–∞—Ç—É —Ä–∞—Å—Å—Ç–æ—è–Ω–∏—è –º–µ–∂–¥—É –Ω–∏–º–∏",
            "–°–∏–ª–∞ –ø—Ä–æ–ø–æ—Ä—Ü–∏–æ–Ω–∞–ª—å–Ω–∞ —Å—É–º–º–µ –∑–∞—Ä—è–¥–æ–≤ –∏ –ø—Ä—è–º–æ –ø—Ä–æ–ø–æ—Ä—Ü–∏–æ–Ω–∞–ª—å–Ω–∞ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏—é",
            "–°–∏–ª–∞ –ø—Ä–æ–ø–æ—Ä—Ü–∏–æ–Ω–∞–ª—å–Ω–∞ –∫–≤–∞–¥—Ä–∞—Ç—É –∑–∞—Ä—è–¥–æ–≤ –∏ –Ω–µ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Ä–∞—Å—Å—Ç–æ—è–Ω–∏—è"
        ],
        "correct": 1  # –∏–Ω–¥–µ–∫—Å –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ –æ—Ç–≤–µ—Ç–∞ (—Å—á–∏—Ç–∞–µ–º —Å 0)
    },
    {
        "question": "–í –∫–∞–∫–∏—Ö –µ–¥–∏–Ω–∏—Ü–∞—Ö –∏–∑–º–µ—Ä—è–µ—Ç—Å—è —ç–ª–µ–∫—Ç—Ä–∏—á–µ—Å–∫–∏–π –∑–∞—Ä—è–¥ –≤ –°–ò?",
        "options": [
            "–ê–º–ø–µ—Ä (–ê)",
            "–í–æ–ª—å—Ç (–í)",
            "–ö—É–ª–æ–Ω (–ö–ª)",
            "–§–∞—Ä–∞–¥ (–§)"
        ],
        "correct": 2
    },
    {
        "question": "–ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç k –≤ –∑–∞–∫–æ–Ω–µ –ö—É–ª–æ–Ω–∞ (–≤ –≤–∞–∫—É—É–º–µ) –ø—Ä–∏–±–ª–∏–∑–∏—Ç–µ–ª—å–Ω–æ —Ä–∞–≤–µ–Ω:",
        "options": [
            "1",
            "9¬∑10‚Åπ –ù¬∑–º¬≤/–ö–ª¬≤",
            "8,85¬∑10‚Åª¬π¬≤ –ö–ª¬≤/(–ù¬∑–º¬≤)",
            "6,67¬∑10‚Åª¬π¬π –ù¬∑–º¬≤/–∫–≥¬≤"
        ],
        "correct": 1
    },
    {
        "question": "–ö–∞–∫ –∏–∑–º–µ–Ω–∏—Ç—Å—è —Å–∏–ª–∞ –∫—É–ª–æ–Ω–æ–≤—Å–∫–æ–≥–æ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è –¥–≤—É—Ö —Ç–æ—á–µ—á–Ω—ã—Ö –∑–∞—Ä—è–¥–æ–≤, –µ—Å–ª–∏ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ –º–µ–∂–¥—É –Ω–∏–º–∏ —É–≤–µ–ª–∏—á–∏—Ç—å –≤ 2 —Ä–∞–∑–∞?",
        "options": [
            "–£–≤–µ–ª–∏—á–∏—Ç—Å—è –≤ 2 —Ä–∞–∑–∞",
            "–£–º–µ–Ω—å—à–∏—Ç—Å—è –≤ 2 —Ä–∞–∑–∞",
            "–£–≤–µ–ª–∏—á–∏—Ç—Å—è –≤ 4 —Ä–∞–∑–∞",
            "–£–º–µ–Ω—å—à–∏—Ç—Å—è –≤ 4 —Ä–∞–∑–∞"
        ],
        "correct": 3
    },
    {
        "question": "–ß—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç –∑–Ω–∞–∫ ¬´–º–∏–Ω—É—Å¬ª –≤ –∑–∞–∫–æ–Ω–µ –ö—É–ª–æ–Ω–∞ –ø—Ä–∏ –ø–æ–¥—Å—Ç–∞–Ω–æ–≤–∫–µ –∑–∞—Ä—è–¥–æ–≤?",
        "options": [
            "–°–∏–ª–∞ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω–æ–π, –∑–Ω–∞—á–∏—Ç –æ–Ω–∞ –∏—Å—á–µ–∑–∞–µ—Ç",
            "–ó–∞—Ä—è–¥—ã –æ—Ç—Ç–∞–ª–∫–∏–≤–∞—é—Ç—Å—è (–æ–¥–Ω–æ–∏–º—ë–Ω–Ω—ã–µ)",
            "–ó–∞—Ä—è–¥—ã –ø—Ä–∏—Ç—è–≥–∏–≤–∞—é—Ç—Å—è (—Ä–∞–∑–Ω–æ–∏–º—ë–Ω–Ω—ã–µ)",
            "–û—à–∏–±–∫–∞ –≤ —Ä–∞—Å—á—ë—Ç–∞—Ö, –∑–∞—Ä—è–¥—ã –≤—Å–µ–≥–¥–∞ –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã"
        ],
        "correct": 2
    },
    {
        "question": "–ï—Å–ª–∏ –∑–∞—Ä—è–¥—ã —É–≤–µ–ª–∏—á–∏—Ç—å –≤ 3 —Ä–∞–∑–∞ –∫–∞–∂–¥—ã–π, –Ω–µ –º–µ–Ω—è—è —Ä–∞—Å—Å—Ç–æ—è–Ω–∏—è, —Å–∏–ª–∞ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è:",
        "options": [
            "–£–≤–µ–ª–∏—á–∏—Ç—Å—è –≤ 3 —Ä–∞–∑–∞",
            "–£–≤–µ–ª–∏—á–∏—Ç—Å—è –≤ 6 —Ä–∞–∑",
            "–£–≤–µ–ª–∏—á–∏—Ç—Å—è –≤ 9 —Ä–∞–∑",
            "–ù–µ –∏–∑–º–µ–Ω–∏—Ç—Å—è"
        ],
        "correct": 2
    },
    {
        "question": "–ó–∞–∫–æ–Ω –ö—É–ª–æ–Ω–∞ —Å–ø—Ä–∞–≤–µ–¥–ª–∏–≤ –¥–ª—è:",
        "options": [
            "–õ—é–±—ã—Ö —Ç–µ–ª —Å –ª—é–±—ã–º–∏ —Ä–∞–∑–º–µ—Ä–∞–º–∏",
            "–¢–æ–ª—å–∫–æ –¥–ª—è –Ω–µ–ø–æ–¥–≤–∏–∂–Ω—ã—Ö —Ç–æ—á–µ—á–Ω—ã—Ö –∑–∞—Ä—è–¥–æ–≤",
            "–¢–æ–ª—å–∫–æ –¥–ª—è –¥–≤–∏–∂—É—â–∏—Ö—Å—è –∑–∞—Ä—è–¥–æ–≤",
            "–î–ª—è –ø—Ä–æ–≤–æ–¥–Ω–∏–∫–æ–≤ —Å —Ç–æ–∫–æ–º"
        ],
        "correct": 1
    },
    {
        "question": "–ö—Ç–æ —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞–ª—å–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–∏–ª –∑–∞–∫–æ–Ω –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è –∑–∞—Ä—è–¥–æ–≤?",
        "options": [
            "–ò—Å–∞–∞–∫ –ù—å—é—Ç–æ–Ω",
            "–ê–ª–µ—Å—Å–∞–Ω–¥—Ä–æ –í–æ–ª—å—Ç–∞",
            "–®–∞—Ä–ª—å –ö—É–ª–æ–Ω",
            "–ú–∞–π–∫–ª –§–∞—Ä–∞–¥–µ–π"
        ],
        "correct": 2
    },
    {
        "question": "–î–∏—ç–ª–µ–∫—Ç—Ä–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–Ω–∏—Ü–∞–µ–º–æ—Å—Ç—å —Å—Ä–µ–¥—ã Œµ –≤ –∑–∞–∫–æ–Ω–µ –ö—É–ª–æ–Ω–∞ —É—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è –∫–∞–∫:",
        "options": [
            "–£–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç —Å–∏–ª—É –≤ Œµ —Ä–∞–∑",
            "–£–º–µ–Ω—å—à–∞–µ—Ç —Å–∏–ª—É –≤ Œµ —Ä–∞–∑",
            "–ù–µ –≤–ª–∏—è–µ—Ç –Ω–∞ —Å–∏–ª—É",
            "–ú–µ–Ω—è–µ—Ç –∑–Ω–∞–∫ —Å–∏–ª—ã"
        ],
        "correct": 1
    },
    {
        "question": "–î–≤–∞ –∑–∞—Ä—è–¥–∞ +q –∏ -q –Ω–∞—Ö–æ–¥—è—Ç—Å—è –Ω–∞ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–∏ r. –ö—É–¥–∞ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∞ —Å–∏–ª–∞, –¥–µ–π—Å—Ç–≤—É—é—â–∞—è –Ω–∞ –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–π –∑–∞—Ä—è–¥ —Å–æ —Å—Ç–æ—Ä–æ–Ω—ã –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–æ–≥–æ?",
        "options": [
            "–û—Ç –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–æ–≥–æ –∑–∞—Ä—è–¥–∞ (–æ—Ç—Ç–∞–ª–∫–∏–≤–∞–Ω–∏–µ)",
            "–ö –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–æ–º—É –∑–∞—Ä—è–¥—É (–ø—Ä–∏—Ç—è–∂–µ–Ω–∏–µ)",
            "–ü–µ—Ä–ø–µ–Ω–¥–∏–∫—É–ª—è—Ä–Ω–æ –ª–∏–Ω–∏–∏, —Å–æ–µ–¥–∏–Ω—è—é—â–µ–π –∑–∞—Ä—è–¥—ã",
            "–°–∏–ª–∞ —Ä–∞–≤–Ω–∞ –Ω—É–ª—é"
        ],
        "correct": 1
    }
]

# –§—É–Ω–∫—Ü–∏—è –¥–ª—è —Å–±—Ä–æ—Å–∞ —Ç–µ—Å—Ç–∞
def reset_test():
    st.session_state.q_index = 0
    st.session_state.score = 0
    st.session_state.answers = []
    st.session_state.test_completed = False
    st.session_state.show_feedback = False

# –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è —Å–µ—Å—Å–∏–∏
if 'q_index' not in st.session_state:
    reset_test()

# –ó–∞–≥–æ–ª–æ–≤–æ–∫ —Å –∫—Ä–∞—Å–∏–≤—ã–º –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ–º
st.markdown("""
    <style>
    .main-title {
        text-align: center;
        font-size: 3rem;
        font-weight: 800;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        margin-bottom: 0;
        padding-bottom: 0;
    }
    .sub-title {
        text-align: center;
        color: #666;
        font-size: 1.2rem;
        margin-top: 0;
        margin-bottom: 2rem;
    }
    .stProgress > div > div > div > div {
        background: linear-gradient(135deg, #667eea, #764ba2);
    }
    </style>
""", unsafe_allow_html=True)

st.markdown('<p class="main-title">‚ö° –ó–∞–∫–æ–Ω –ö—É–ª–æ–Ω–∞ ‚ö°</p>', unsafe_allow_html=True)
st.markdown('<p class="sub-title">–ü—Ä–æ–≤–µ—Ä—å —Å–≤–æ–∏ –∑–Ω–∞–Ω–∏—è –ø–æ —ç–ª–µ–∫—Ç—Ä–æ—Å—Ç–∞—Ç–∏–∫–µ</p>', unsafe_allow_html=True)

# –û—Å–Ω–æ–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞ —Ç–µ—Å—Ç–∞
total_questions = len(questions)

if not st.session_state.test_completed:
    # –ü—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä
    progress = st.session_state.q_index / total_questions
    st.progress(progress)
    
    # –°—á–µ—Ç—á–∏–∫ –≤–æ–ø—Ä–æ—Å–æ–≤
    col1, col2, col3 = st.columns([1, 2, 1])
    with col2:
        st.markdown(f"<h4 style='text-align: center;'>–í–æ–ø—Ä–æ—Å {st.session_state.q_index + 1} –∏–∑ {total_questions}</h4>", 
                   unsafe_allow_html=True)
    
    # –¢–µ–∫—É—â–∏–π –≤–æ–ø—Ä–æ—Å
    current_q = questions[st.session_state.q_index]
    
    # –ö–∞—Ä—Ç–æ—á–∫–∞ –≤–æ–ø—Ä–æ—Å–∞
    with st.container():
        st.markdown(f"""
        <div style='background: #f8f9fa; padding: 25px; border-radius: 15px; margin: 20px 0;'>
            <p style='font-size: 1.3rem; color: #333; font-weight: 600;'>{current_q['question']}</p>
        </div>
        """, unsafe_allow_html=True)
        
        # –í–∞—Ä–∏–∞–Ω—Ç—ã –æ—Ç–≤–µ—Ç–æ–≤
        answer = st.radio(
            "–í—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç:",
            current_q['options'],
            key=f"q_{st.session_state.q_index}",
            label_visibility="collapsed"
        )
        
        # –ö–Ω–æ–ø–∫–∞ –æ—Ç–≤–µ—Ç–∞
        col1, col2, col3 = st.columns([1, 2, 1])
        with col2:
            if st.button("üìù –û—Ç–≤–µ—Ç–∏—Ç—å", use_container_width=True, type="primary"):
                # –ü—Ä–æ–≤–µ—Ä—è–µ–º –æ—Ç–≤–µ—Ç
                correct_index = current_q['correct']
                correct_answer = current_q['options'][correct_index]
                
                if answer == correct_answer:
                    st.session_state.score += 1
                    st.success("‚úÖ –ê–±—Å–æ–ª—é—Ç–Ω–æ –≤–µ—Ä–Ω–æ!")
                else:
                    st.error(f"‚ùå –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ. –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç: **{correct_answer}**")
                
                # –ó–∞–ø–æ–º–∏–Ω–∞–µ–º –æ—Ç–≤–µ—Ç
                st.session_state.answers.append({
                    'question': current_q['question'],
                    'user_answer': answer,
                    'correct_answer': correct_answer,
                    'is_correct': answer == correct_answer
                })
                
                # –ü–µ—Ä–µ—Ö–æ–¥–∏–º –∫ —Å–ª–µ–¥—É—é—â–µ–º—É –≤–æ–ø—Ä–æ—Å—É
                st.session_state.q_index += 1
                
                # –ü—Ä–æ–≤–µ—Ä—è–µ–º, –∑–∞–∫–æ–Ω—á–∏–ª—Å—è –ª–∏ —Ç–µ—Å—Ç
                if st.session_state.q_index >= total_questions:
                    st.session_state.test_completed = True
                
                # –û–±–Ω–æ–≤–ª—è–µ–º —Å—Ç—Ä–∞–Ω–∏—Ü—É
                st.rerun()
    
    # –ö–Ω–æ–ø–∫–∞ —Å–±—Ä–æ—Å–∞ (–º–∞–ª–µ–Ω—å–∫–∞—è –≤ —É–≥–ª—É)
    with st.sidebar:
        st.markdown("### ‚öôÔ∏è –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ")
        if st.button("üîÑ –ù–∞—á–∞—Ç—å –∑–∞–Ω–æ–≤–æ", use_container_width=True):
            reset_test()
            st.rerun()
        
        st.markdown("---")
        st.markdown("### üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞")
        st.markdown(f"**–ü—Ä–∞–≤–∏–ª—å–Ω—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤:** {st.session_state.score}")
        st.markdown(f"**–û—Å—Ç–∞–ª–æ—Å—å –≤–æ–ø—Ä–æ—Å–æ–≤:** {total_questions - st.session_state.q_index}")

else:
    # –¢–ï–°–¢ –ó–ê–ö–û–ù–ß–ï–ù - –ü–û–ö–ê–ó–´–í–ê–ï–ú –†–ï–ó–£–õ–¨–¢–ê–¢
    st.balloons()  # –ü—Ä–∞–∑–¥–Ω–∏—á–Ω–∞—è –∞–Ω–∏–º–∞—Ü–∏—è
    
    # –†–µ–∑—É–ª—å—Ç–∞—Ç—ã
    col1, col2, col3 = st.columns([1, 2, 1])
    with col2:
        st.markdown(f"""
        <div style='text-align: center; background: linear-gradient(135deg, #667eea20, #764ba220); 
                    padding: 30px; border-radius: 20px; margin: 20px 0;'>
            <h1 style='font-size: 4rem; margin: 0;'>{st.session_state.score}/{total_questions}</h1>
            <p style='font-size: 2rem; margin: 0; color: #667eea;'>
                {st.session_state.score/total_questions*100:.1f}%
            </p>
        </div>
        """, unsafe_allow_html=True)
    
    # –í–µ—Ä–¥–∏–∫—Ç
    percentage = st.session_state.score / total_questions * 100
    
    if percentage == 100:
        verdict = "üèÜ **–ü—Ä–µ–≤–æ—Å—Ö–æ–¥–Ω–æ!** –í—ã –∑–Ω–∞–µ—Ç–µ –∑–∞–∫–æ–Ω –ö—É–ª–æ–Ω–∞ –Ω–∞ –æ—Ç–ª–∏—á–Ω–æ!"
        verdict_color = "#28a745"
    elif percentage >= 80:
        verdict = "üåü **–û—Ç–ª–∏—á–Ω–æ!** –û—á–µ–Ω—å —Ö–æ—Ä–æ—à–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç, –Ω–æ –µ—Å—Ç—å –Ω—é–∞–Ω—Å—ã."
        verdict_color = "#17a2b8"
    elif percentage >= 60:
        verdict = "üìö **–•–æ—Ä–æ—à–æ.** –°—Ç–æ–∏—Ç –ø–æ–≤—Ç–æ—Ä–∏—Ç—å –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –º–æ–º–µ–Ω—Ç—ã."
        verdict_color = "#ffc107"
    elif percentage >= 40:
        verdict = "üìñ **–£–¥–æ–≤–ª–µ—Ç–≤–æ—Ä–∏—Ç–µ–ª—å–Ω–æ.** –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º –∏–∑—É—á–∏—Ç—å —Ç–µ–º—É –ø–æ–¥—Ä–æ–±–Ω–µ–µ."
        verdict_color = "#fd7e14"
    else:
        verdict = "üìï **–ü–ª–æ—Ö–æ.** –í–∞–º –Ω—É–∂–Ω–æ —Å–µ—Ä—å–µ–∑–Ω–æ —Ä–∞–∑–æ–±—Ä–∞—Ç—å—Å—è –≤ —Ç–µ–º–µ."
        verdict_color = "#dc3545"
    
    st.markdown(f"""
    <div style='text-align: center; padding: 20px; background: {verdict_color}20; 
                border-radius: 15px; border-left: 5px solid {verdict_color}; margin: 20px 0;'>
        <p style='font-size: 1.3rem; color: #333;'>{verdict}</p>
    </div>
    """, unsafe_allow_html=True)
    
    # –î–µ—Ç–∞–ª—å–Ω—ã–π —Ä–∞–∑–±–æ—Ä –æ—Ç–≤–µ—Ç–æ–≤
    with st.expander("üìã –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≤—Å–µ –æ—Ç–≤–µ—Ç—ã"):
        for i, ans in enumerate(st.session_state.answers, 1):
            if ans['is_correct']:
                st.markdown(f"**{i}. {ans['question']}**  \n‚úÖ –í–∞—à –æ—Ç–≤–µ—Ç: **{ans['user_answer']}** (–≤–µ—Ä–Ω–æ)")
            else:
                st.markdown(f"**{i}. {ans['question']}**  \n‚ùå –í–∞—à –æ—Ç–≤–µ—Ç: {ans['user_answer']}  \n‚úì –ü—Ä–∞–≤–∏–ª—å–Ω–æ: **{ans['correct_answer']}**")
            st.markdown("---")
    
    # –ö–Ω–æ–ø–∫–∏ –¥–µ–π—Å—Ç–≤–∏–π
    col1, col2 = st.columns(2)
    with col1:
        if st.button("üîÑ –ü—Ä–æ–π—Ç–∏ –∑–∞–Ω–æ–≤–æ", use_container_width=True, type="primary"):
            reset_test()
            st.rerun()
    with col2:
        if st.button("üì§ –ü–æ–¥–µ–ª–∏—Ç—å—Å—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–º", use_container_width=True):
            text = f"–Ø –ø—Ä–æ—à–µ–ª —Ç–µ—Å—Ç –ø–æ –∑–∞–∫–æ–Ω—É –ö—É–ª–æ–Ω–∞ –∏ –Ω–∞–±—Ä–∞–ª {st.session_state.score}/{total_questions} ({st.session_state.score/total_questions*100:.1f}%)! –ü–æ–ø—Ä–æ–±—É–π –∏ —Ç—ã!"
            st.code(text, language="text")
            st.info("–°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ç–µ–∫—Å—Ç –≤—ã—à–µ –∏ –æ—Ç–ø—Ä–∞–≤—å—Ç–µ –¥—Ä—É–∑—å—è–º!")

# –ü–æ–¥–≤–∞–ª
st.markdown("---")
st.markdown("""
<div style='text-align: center; color: #888; font-size: 0.9rem;'>
    ‚ö° –ó–∞–∫–æ–Ω –ö—É–ª–æ–Ω–∞: F = k ¬∑ |q‚ÇÅ|¬∑|q‚ÇÇ| / r¬≤ ‚ö°
</div>
""", unsafe_allow_html=True)  

streamlit==1.28.0

